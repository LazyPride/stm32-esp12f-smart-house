<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="css/zeroing.css">
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript">
        function LigthSwitch() {
            alert("Button");
        }

        function loadFile(filePath) {
            var result = null;
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", filePath, false);
            xmlhttp.send();
            if (xmlhttp.status == 200) {
                result = xmlhttp.responseText;
            }
            return result;
        }

        let interval = setInterval(ServerCheck, 500);

        function ServerCheck() {
            var temperature = loadFile("temperature.txt")
            var ledStatus = loadFile("ledStatus.txt")
            document.getElementById("Temperature").value = parseInt(temperature, 10);

            if (parseInt(ledStatus, 10) == 1)
                document.getElementById("Led").innerHTML = "Led is now On";
            else
                document.getElementById("Led").innerHTML = "Led is now Off";
        }
        let counter = 1;

        function smth() {
            let src1 = "img/switch-contur-res.png";
            let src2 = "img/switch-contur-on.png";



            if (counter == 0) {
                document.getElementById("switch").src = src1;
            } else {
                document.getElementById("switch").src = src2;
            }
            if (counter == 1) {
                counter = 0;
            } else {
                counter = 1;
            }
        }
    </script>
</head>

<body>

    <header>
        <h1>
            Smart House control panel
        </h1>
    </header>
    <div>

        <table>
            <tr>
                <td>Switch</td>
                <td>Temperature</td>
                <td>LED status</td>
            </tr>
            <tr>
                <td>
                    <form name="control" id="control">

                        <p class="table-aligin"><span class="on">ON</span></p>
                        <img id="switch" class="imgSize" src="img/switch-contur-res.png" alt="" onclick="smth()">
                        <p class="table-aligin"><span class="off">OFF</span></p>
                    </form>
                </td>
                <td>
                    <form action="#">
                        <output name="Temperature" id="Temperature">0</output> Â°C

                    </form>

                </td>
                <td>
                    <img class="imgSize" src="img/led.png" alt="">
                </td>
            </tr>
        </table>

    </div>

</body>

</html>